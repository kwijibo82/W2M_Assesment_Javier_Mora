import{a as A,b as R,e as q,g as G,h as f}from"./chunk-T4YML2SD.js";import{f as B,h as _,i as U}from"./chunk-5INSNOEC.js";import{Ca as p,D as H,Da as O,H as L,Mb as z,Nb as W,Pb as C,Ta as M,V as d,Va as l,Xa as s,Ya as a,Za as g,_a as P,ab as S,bb as x,d as v,da as h,ea as m,ga as F,gb as c,i as w,jb as E,kb as I,lb as N,ma as b,mb as j,na as y,ob as k,pb as T,qb as V,rb as D}from"./chunk-SJ7YPFVE.js";var J=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=h({type:e,selectors:[["app-loader"]],standalone:!0,features:[k],decls:3,vars:0,consts:[[1,"loader-container"],[1,"loader"]],template:function(i,o){i&1&&(s(0,"div",0),g(1,"div",1),c(2,` Cargando...
`),a())},styles:[".loader-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.loader[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);width:36px;height:36px;border-radius:50%;border-left-color:#09f;animation:_ngcontent-%COMP%_spin 1s ease infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]});let t=e;return t})();var K=(()=>{let e=class e{transform(r){return r&&r.replace(/\b\w/g,i=>i.toUpperCase())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=F({name:"capitalizeFirst",type:e,pure:!0});let t=e;return t})();var ee=t=>["/edit-hero",t];function te(t,e){t&1&&g(0,"app-loader")}function ie(t,e){if(t&1&&(s(0,"li",7)(1,"span"),c(2),V(3,"capitalizeFirst"),a(),s(4,"span",8)(5,"button",9),c(6,"Editar"),a()()()),t&2){let n=e.$implicit;p(2),E("",n.id," - ",D(3,3,n.name),""),p(3),l("routerLink",T(5,ee,n.id))}}function re(t,e){if(t&1){let n=P();s(0,"div",2)(1,"h1"),c(2,"Lista de h\xE9roes"),a(),s(3,"ul",3),M(4,ie,7,7,"li",4),a(),s(5,"input",5),j("ngModelChange",function(i){b(n);let o=x();return N(o.newHero.name,i)||(o.newHero.name=i),y(i)}),S("ngModelChange",function(i){b(n);let o=x();return y(o.search(i))}),a(),s(6,"button",6),c(7," Crear H\xE9roe "),a()()}if(t&2){let n=x();p(4),l("ngForOf",n.filteredHeroes),p(),I("ngModel",n.newHero.name),p(),l("routerLink","/create-hero")}}var Q=(()=>{let e=class e{constructor(r){this.heroService=r,this.heroes=[],this.filteredHeroes=[],this.subscription=new v,this.isLoading=!1,this.searchTerms=new w,this.newHero={name:"",id:0}}ngOnInit(){this.getHeroes(),this.subscription.add(this.searchTerms.pipe(H(300),L()).subscribe(r=>{this.applyFilter(r)}))}ngOnDestroy(){this.subscription.unsubscribe()}getHeroes(){this.isLoading=!0,this.heroService.getHeroes().subscribe({next:r=>{this.heroes=r,this.filteredHeroes=r,this.isLoading=!1},error:()=>{this.isLoading=!1}})}applyFilter(r){this.filteredHeroes=this.heroes.filter(i=>i.name.toLowerCase().includes(r.toLowerCase()))}confirmDelete(r){this.heroService.deleteHero(r.id).subscribe(()=>{this.heroes=this.heroes.filter(i=>i.id!==r.id),this.filteredHeroes=this.filteredHeroes.filter(i=>i.id!==r.id),this.heroes.forEach((i,o)=>{i.id=o+1}),this.applyFilter("")})}search(r){this.searchTerms.next(r)}};e.\u0275fac=function(i){return new(i||e)(O(f))},e.\u0275cmp=h({type:e,selectors:[["app-hero-list"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","container",4,"ngIf"],[1,"container"],[1,"hero-list"],["class","hero-card",4,"ngFor","ngForOf"],["id","name","type","text","name","name","placeholder","Filtra nombre del H\xE9roe",3,"ngModelChange","ngModel"],[1,"crear-heroe-btn",3,"routerLink"],[1,"hero-card"],[1,"hero-actions"],[3,"routerLink"]],template:function(i,o){i&1&&M(0,te,1,0,"app-loader",0)(1,re,8,3,"div",1),i&2&&(l("ngIf",o.isLoading),p(),l("ngIf",!o.isLoading))},dependencies:[z,W,A,R,q,B,J,K],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}h1[_ngcontent-%COMP%]{color:#333}input[type=text][_ngcontent-%COMP%]{padding:10px;margin:10px 0;border:1px solid #ddd;border-radius:4px}button[_ngcontent-%COMP%]{padding:10px 15px;margin-right:5px;border:none;border-radius:4px;cursor:pointer;background-color:#5c6bc0;color:#fff}.hero-list[_ngcontent-%COMP%]{list-style:none;padding:0;width:100%;max-width:600px}.hero-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;margin:10px 0;border:1px solid #ddd;border-radius:4px;background-color:#fff}.hero-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.crear-heroe-btn[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:4px;cursor:pointer;background-color:#5c6bc0;color:#fff;margin-top:20px}.crear-heroe-btn[_ngcontent-%COMP%]:hover{background-color:#3f51b5}"]});let t=e;return t})();var X=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=m({type:e}),e.\u0275inj=d({imports:[C]});let t=e;return t})();var oe=[{path:"",component:Q}],Y=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=m({type:e}),e.\u0275inj=d({imports:[_.forChild(oe),_]});let t=e;return t})();var Pe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=m({type:e}),e.\u0275inj=d({providers:[{provide:f,useClass:f},U],imports:[C,G,X,Y]});let t=e;return t})();export{Pe as HeroListModule};
