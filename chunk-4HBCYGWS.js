import{a as W,b as A,e as U,g as q,h as R}from"./chunk-SDRMUN5G.js";import{f as B,h as w}from"./chunk-YBI7VVFB.js";import{$ as d,$a as T,Ab as z,Cb as b,D as O,Ma as _,Oa as l,Q as m,Qa as s,Ra as a,Sa as C,Ta as y,Ua as M,Va as f,Wa as c,Ya as S,Za as E,_ as g,_a as k,ba as F,bb as N,cb as I,d as v,db as j,eb as V,h as L,ha as h,ia as x,xa as p,ya as P,z as H,zb as D}from"./chunk-Z2R3CXV5.js";var $=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=g({type:e,selectors:[["app-loader"]],standalone:!0,features:[N],decls:3,vars:0,consts:[[1,"loader-container"],[1,"loader"]],template:function(r,n){r&1&&(s(0,"div",0),C(1,"div",1),c(2," Cargando... "),a())},styles:[".loader-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.loader[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);width:36px;height:36px;border-radius:50%;border-left-color:#09f;animation:_ngcontent-%COMP%_spin 1s ease infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]});let t=e;return t})();var G=(()=>{let e=class e{transform(i){return i&&i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=F({name:"capitalizeFirst",type:e,pure:!0});let t=e;return t})();var Z=t=>["/edit-hero",t];function ee(t,e){t&1&&C(0,"app-loader")}function te(t,e){if(t&1){let o=y();s(0,"li",7)(1,"span"),c(2),j(3,"capitalizeFirst"),a(),s(4,"span",8)(5,"button",9),c(6,"Editar"),a(),s(7,"button",10),M("click",function(){let r=h(o).$implicit,n=f(2);return x(n.confirmDelete(r))}),c(8,"Borrar"),a()()()}if(t&2){let o=e.$implicit;p(2),S("",o.id," - ",V(3,3,o.name),""),p(3),l("routerLink",I(5,Z,o.id))}}function ie(t,e){if(t&1){let o=y();s(0,"div",2)(1,"h1"),c(2,"Lista de h\xE9roes"),a(),s(3,"ul",3),_(4,te,9,7,"li",4),a(),s(5,"input",5),T("ngModelChange",function(r){h(o);let n=f();return k(n.newHero.name,r)||(n.newHero.name=r),x(r)}),M("ngModelChange",function(r){h(o);let n=f();return x(n.search(r))}),a(),s(6,"button",6),c(7,"Crear H\xE9roe"),a()()}if(t&2){let o=f();p(4),l("ngForOf",o.filteredHeroes),p(),E("ngModel",o.newHero.name),p(),l("routerLink","/create-hero")}}var J=(()=>{let e=class e{constructor(i){this.heroService=i,this.heroes=[],this.filteredHeroes=[],this.subscription=new v,this.isLoading=!1,this.searchTerms=new L,this.newHero={name:"",id:0}}ngOnInit(){this.getHeroes(),this.searchTerms.pipe(H(300),O()).subscribe(i=>{this.applyFilter(i)})}search(i){this.searchTerms.next(i)}ngOnDestroy(){this.subscription.unsubscribe()}getHeroes(){this.isLoading=!0,setTimeout(()=>{this.heroService.getHeroes().subscribe({next:i=>{this.heroes=i,this.filteredHeroes=i,this.isLoading=!1},error:i=>{console.error("Error fetching heroes",i),this.isLoading=!1}})},1e3)}applyFilter(i){this.filteredHeroes=this.heroes.filter(r=>r.name.toLowerCase().includes(i.toLowerCase()))}confirmDelete(i){confirm(`\xBFEst\xE1s seguro de que deseas borrar a ${i.name}?`)&&this.heroService.deleteHero(i.id).subscribe(()=>{this.getHeroes()})}};e.\u0275fac=function(r){return new(r||e)(P(R))},e.\u0275cmp=g({type:e,selectors:[["app-hero-list"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","container",4,"ngIf"],[1,"container"],[1,"hero-list"],["class","hero-card",4,"ngFor","ngForOf"],["id","name","type","text","name","name","placeholder","Nombre del Nuevo H\xE9roe",3,"ngModelChange","ngModel"],[1,"crear-heroe-btn",3,"routerLink"],[1,"hero-card"],[1,"hero-actions"],[3,"routerLink"],[3,"click"]],template:function(r,n){r&1&&_(0,ee,1,0,"app-loader",0)(1,ie,8,3,"div",1),r&2&&(l("ngIf",n.isLoading),p(),l("ngIf",!n.isLoading))},dependencies:[D,z,W,A,U,B,$,G],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}h1[_ngcontent-%COMP%]{color:#333}input[type=text][_ngcontent-%COMP%]{padding:10px;margin:10px 0;border:1px solid #ddd;border-radius:4px}button[_ngcontent-%COMP%]{padding:10px 15px;margin-right:5px;border:none;border-radius:4px;cursor:pointer;background-color:#5c6bc0;color:#fff}.hero-list[_ngcontent-%COMP%]{list-style:none;padding:0;width:100%;max-width:600px}.hero-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;margin:10px 0;border:1px solid #ddd;border-radius:4px;background-color:#fff}.hero-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.crear-heroe-btn[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:4px;cursor:pointer;background-color:#5c6bc0;color:#fff;margin-top:20px}.crear-heroe-btn[_ngcontent-%COMP%]:hover{background-color:#3f51b5}"]});let t=e;return t})();var K=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=d({type:e}),e.\u0275inj=m({imports:[b]});let t=e;return t})();var re=[{path:"",component:J}],Q=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=d({type:e}),e.\u0275inj=m({imports:[w.forChild(re),w]});let t=e;return t})();var Pe=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=d({type:e}),e.\u0275inj=m({imports:[b,q,K,Q]});let t=e;return t})();export{Pe as HeroListModule};
