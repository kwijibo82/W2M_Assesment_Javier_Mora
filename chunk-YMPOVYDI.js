import{a as E}from"./chunk-CNGL6BVY.js";import{a as _,b as O,c as P,d as I,e as j,f as F,g as k,h as c,j as T}from"./chunk-LPTN67QA.js";import{g as N,j as x}from"./chunk-VDDGEJAY.js";import{Ca as u,Da as l,Nb as M,Ob as S,Pb as y,Ta as v,V as m,Va as g,Xa as a,Ya as s,Za as C,ab as h,da as b,ea as d,gb as p,qb as H,rb as w}from"./chunk-SJ7YPFVE.js";function V(o,e){o&1&&C(0,"div",7)}var A=(()=>{let e=class e{constructor(r,t,n){this.heroService=r,this.router=t,this.notificationService=n,this.newHero={name:"",id:0},this.existingHeroes=[]}ngOnInit(){this.loadExistingHeroes()}loadExistingHeroes(){this.heroService.getHeroes().subscribe(r=>this.existingHeroes=r)}createHero(){if(!this.newHero.name.trim()){this.notificationService.showError("El nombre del h\xE9roe no puede estar en blanco.");return}if(this.existingHeroes.some(i=>i.name.toLowerCase()===this.newHero.name.toLowerCase())){this.notificationService.showError("Ya existe un h\xE9roe con ese nombre.");return}let t=this.existingHeroes.map(i=>i.id).sort((i,f)=>i-f),n=1;for(let i=0;i<t.length&&!(t[i]>n);i++)n++;this.newHero.id=n,this.heroService.addHero(this.newHero).subscribe({next:()=>{this.notificationService.showSuccess("H\xE9roe creado con \xE9xito!"),this.router.navigate(["/heroes"])},error:()=>{this.notificationService.showError("Error al crear el h\xE9roe.")}})}onNameInput(r){let t=r.target.value;this.newHero.name=t}};e.\u0275fac=function(t){return new(t||e)(l(c),l(N),l(E))},e.\u0275cmp=b({type:e,selectors:[["app-hero-create"]],decls:12,vars:4,consts:[[1,"container"],[1,"hero-form",3,"ngSubmit"],[1,"form-field"],["for","name"],["id","name","name","name","type","text","placeholder","Nombre del Nuevo H\xE9roe",3,"ngModelChange","ngModel"],["type","submit",1,"create-button"],["class","notification-container",4,"ngIf"],[1,"notification-container"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"h1"),p(2,"Crear Nuevo H\xE9roe"),s(),a(3,"form",1),h("ngSubmit",function(){return n.createHero()}),a(4,"div",2)(5,"label",3),p(6,"Nombre del H\xE9roe:"),s(),a(7,"input",4),h("ngModelChange",function(f){return n.newHero.name=f}),s()(),a(8,"button",5),p(9,"Crear"),s()()(),v(10,V,1,0,"div",6),H(11,"async")),t&2&&(u(7),g("ngModel",n.newHero.name),u(3),g("ngIf",w(11,2,n.notificationService.notification$)))},dependencies:[M,F,_,O,P,j,I,S],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;width:100%}h1[_ngcontent-%COMP%]{color:#333;margin-bottom:20px}.hero-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:400px;align-items:flex-start}.form-field[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin-bottom:10px}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.form-field[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex-grow:1;padding:10px;border:1px solid #ddd;border-radius:4px}.create-button[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:4px;cursor:pointer;background-color:#5c6bc0;color:#fff;align-self:center}.create-button[_ngcontent-%COMP%]:hover{background-color:#3f51b5}.notification-error[_ngcontent-%COMP%]{background-color:#f2dede;color:#a94442;border:1px solid #ebccd1;padding:1rem 2rem;border-radius:4px;box-shadow:0 4px 6px -1px #0000001a;position:fixed;bottom:10px;left:50%;transform:translate(-50%);z-index:1000}"]});let o=e;return o})();var z=[{path:"",component:A}],L=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d({type:e}),e.\u0275inj=m({imports:[x.forChild(z),x]});let o=e;return o})();var ie=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d({type:e}),e.\u0275inj=m({providers:[{provide:c,useClass:c}],imports:[y,k,L,T]});let o=e;return o})();export{ie as HeroCreateModule};
