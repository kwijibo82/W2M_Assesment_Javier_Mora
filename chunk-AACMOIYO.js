import{a as S}from"./chunk-HMWMV4W5.js";import{a as y,b as N,c as E,d as _,e as O,f as P,g as I,h as j}from"./chunk-SDRMUN5G.js";import{e as w,h as u}from"./chunk-YBI7VVFB.js";import{$ as c,Ab as C,Bb as H,Cb as M,Ma as h,Oa as p,Q as s,Qa as n,Ra as a,Sa as x,Ua as f,Wa as d,_ as g,db as b,eb as v,xa as l,ya as m}from"./chunk-Z2R3CXV5.js";function L(o,e){o&1&&x(0,"div",7)}var T=(()=>{let e=class e{constructor(i,t,r){this.heroService=i,this.router=t,this.notificationService=r,this.newHero={name:"",id:0},this.existingHeroes=[]}ngOnInit(){this.loadExistingHeroes()}loadExistingHeroes(){this.heroService.getHeroes().subscribe(i=>this.existingHeroes=i)}createHero(){if(!this.newHero.name.trim()){this.notificationService.showError("El nombre del h\xE9roe no puede estar en blanco.");return}if(this.existingHeroes.some(t=>t.name.toLowerCase()===this.newHero.name.toLowerCase())){this.notificationService.showError("Ya existe un h\xE9roe con ese nombre.");return}this.heroService.addHero(this.newHero).subscribe({next:()=>{this.notificationService.showSuccess("H\xE9roe creado con \xE9xito!"),this.router.navigate(["/heroes"])},error:()=>{this.notificationService.showError("Error al crear el h\xE9roe.")}})}onNameInput(i){let t=i.target.value;this.newHero.name=t}};e.\u0275fac=function(t){return new(t||e)(m(j),m(w),m(S))},e.\u0275cmp=g({type:e,selectors:[["app-hero-create"]],decls:12,vars:4,consts:[[1,"container"],[1,"hero-form",3,"ngSubmit"],[1,"form-field"],["for","name"],["id","name","name","name","type","text","placeholder","Nombre del Nuevo H\xE9roe",3,"ngModelChange","ngModel"],["type","submit",1,"create-button"],["class","notification-container",4,"ngIf"],[1,"notification-container"]],template:function(t,r){t&1&&(n(0,"div",0)(1,"h1"),d(2,"Crear Nuevo H\xE9roe"),a(),n(3,"form",1),f("ngSubmit",function(){return r.createHero()}),n(4,"div",2)(5,"label",3),d(6,"Nombre del H\xE9roe:"),a(),n(7,"input",4),f("ngModelChange",function(A){return r.newHero.name=A}),a()(),n(8,"button",5),d(9,"Crear"),a()()(),h(10,L,1,0,"div",6),b(11,"async")),t&2&&(l(7),p("ngModel",r.newHero.name),l(3),p("ngIf",v(11,2,r.notificationService.notification$)))},dependencies:[C,P,y,N,E,O,_,H],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;width:100%}h1[_ngcontent-%COMP%]{color:#333;margin-bottom:20px}.hero-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:400px;align-items:flex-start}.form-field[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin-bottom:10px}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.form-field[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex-grow:1;padding:10px;border:1px solid #ddd;border-radius:4px}.create-button[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:4px;cursor:pointer;background-color:#5c6bc0;color:#fff;align-self:center}.create-button[_ngcontent-%COMP%]:hover{background-color:#3f51b5}.notification-error[_ngcontent-%COMP%]{background-color:#f2dede;color:#a94442;border:1px solid #ebccd1;padding:1rem 2rem;border-radius:4px;box-shadow:0 4px 6px -1px #0000001a;position:fixed;bottom:10px;left:50%;transform:translate(-50%);z-index:1000}"]});let o=e;return o})();var V=[{path:"",component:T}],k=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c({type:e}),e.\u0275inj=s({imports:[u.forChild(V),u]});let o=e;return o})();var ee=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c({type:e}),e.\u0275inj=s({imports:[M,I,k]});let o=e;return o})();export{ee as HeroCreateModule};
