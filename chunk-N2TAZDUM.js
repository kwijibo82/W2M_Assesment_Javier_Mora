import{a as E,b as _,c as O,d as P,e as I,f as j,g as F,h as k}from"./chunk-T4YML2SD.js";import{e as y,h,i as N}from"./chunk-5INSNOEC.js";import{Ca as f,Da as d,Nb as w,Ob as M,Pb as S,Ta as b,V as c,Va as u,Xa as a,Ya as s,Za as v,ab as g,da as x,ea as m,gb as l,qb as C,rb as H}from"./chunk-SJ7YPFVE.js";function L(o,e){o&1&&v(0,"div",7)}var D=(()=>{let e=class e{constructor(r,t,n){this.heroService=r,this.router=t,this.notificationService=n,this.newHero={name:"",id:0},this.existingHeroes=[]}ngOnInit(){this.loadExistingHeroes()}loadExistingHeroes(){this.heroService.getHeroes().subscribe(r=>this.existingHeroes=r)}createHero(){if(!this.newHero.name.trim()){this.notificationService.showError("El nombre del h\xE9roe no puede estar en blanco.");return}if(this.existingHeroes.some(i=>i.name.toLowerCase()===this.newHero.name.toLowerCase())){this.notificationService.showError("Ya existe un h\xE9roe con ese nombre.");return}let t=this.existingHeroes.map(i=>i.id).sort((i,p)=>i-p),n=1;for(let i=0;i<t.length&&!(t[i]>n);i++)n++;this.newHero.id=n,this.heroService.addHero(this.newHero).subscribe({next:()=>{this.notificationService.showSuccess("H\xE9roe creado con \xE9xito!"),this.router.navigate(["/heroes"])},error:()=>{this.notificationService.showError("Error al crear el h\xE9roe.")}})}onNameInput(r){let t=r.target.value;this.newHero.name=t}};e.\u0275fac=function(t){return new(t||e)(d(k),d(y),d(N))},e.\u0275cmp=x({type:e,selectors:[["app-hero-create"]],decls:12,vars:4,consts:[[1,"container"],[1,"hero-form",3,"ngSubmit"],[1,"form-field"],["for","name"],["id","name","name","name","type","text","placeholder","Nombre del Nuevo H\xE9roe",3,"ngModelChange","ngModel"],["type","submit",1,"create-button"],["class","notification-container",4,"ngIf"],[1,"notification-container"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"h1"),l(2,"Crear Nuevo H\xE9roe"),s(),a(3,"form",1),g("ngSubmit",function(){return n.createHero()}),a(4,"div",2)(5,"label",3),l(6,"Nombre del H\xE9roe:"),s(),a(7,"input",4),g("ngModelChange",function(p){return n.newHero.name=p}),s()(),a(8,"button",5),l(9,"Crear"),s()()(),b(10,L,1,0,"div",6),C(11,"async")),t&2&&(f(7),u("ngModel",n.newHero.name),f(3),u("ngIf",H(11,2,n.notificationService.notification$)))},dependencies:[w,j,E,_,O,I,P,M],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;width:100%}h1[_ngcontent-%COMP%]{color:#333;margin-bottom:20px}.hero-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:400px;align-items:flex-start}.form-field[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin-bottom:10px}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.form-field[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex-grow:1;padding:10px;border:1px solid #ddd;border-radius:4px}.create-button[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:4px;cursor:pointer;background-color:#5c6bc0;color:#fff;align-self:center}.create-button[_ngcontent-%COMP%]:hover{background-color:#3f51b5}.notification-error[_ngcontent-%COMP%]{background-color:#f2dede;color:#a94442;border:1px solid #ebccd1;padding:1rem 2rem;border-radius:4px;box-shadow:0 4px 6px -1px #0000001a;position:fixed;bottom:10px;left:50%;transform:translate(-50%);z-index:1000}"]});let o=e;return o})();var V=[{path:"",component:D}],A=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m({type:e}),e.\u0275inj=c({imports:[h.forChild(V),h]});let o=e;return o})();var ee=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m({type:e}),e.\u0275inj=c({imports:[S,F,A]});let o=e;return o})();export{ee as HeroCreateModule};
